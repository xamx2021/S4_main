<!DOCTYPE html>
<html>
<head>

	 <!-- Progressive application manifes
	<link rel="manifest" href="/webmanifest.json">t -->
	<!--    <link rel="manifest" href="./manifest.json">   -->
    <link rel="icon" sizes="192x192" href="/favicon.ico">
	

	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>S4:</title>       
	<!-- Page Loading logo preloader -->
	<style> 
		html, body {	height: 100%;		}
	</style>
	<div   id="preloader_p" style="  height: 100vh;  width: 100vw;"> 	
		<center> Loading... </center><br>
		<img src = "/images/Loader.gif" style="display: block;  margin-left: auto;  margin-right: auto;  width: 50%;"></img>
	</div>	
	<script>	
		window.onload = function() {			preloader_p.remove();			document.body.removeAttribute('hidden');			};
	</script>
	<!-- end of Page Loading logo preloader -->

 
	<!-- TEMP, Should be in module spec. BEGIN-->
	<!-- <script src="/lib/plotly/plotly-latest.min.js"></script>	-->					
	<!--	<script src="/lib/canvasjs/cracked.canvasjs.min.js"></script>	-->
	<!-- TEMP, Should be in module spec. END -->	
	
	

		
	
	<script src="/lib/jquery.min.js"></script>
	<script src="/lib/jquery-ui.min.js"></script>
	<script src="/lib/rws.js"></script>
	<script src="/lib/jquery.csv.min.js"></script> 	<!--  Used for row inporting csv files to datatables -->
	<script src="/lib/bootstrap.min.js"></script><!-- Needed for modal dialogs, including confinrm & 'alert' -->
	
	<script src="/lib/bootstrap-dialog.min.js"></script>	 
	<script src="/lib/crypto-js/aes.js"></script>
	<script>
			var iv = CryptoJS.enc.Hex.parse('be410fea41df7162a679875ec131cf21');
	</script>
	  <script src="/theme_css_loader.js"></script>
	  
<script src="/lib/dataTables.min.js"></script>
	  
	  
	  

<script src="/lib_ams/ui_base_a_def.js"></script>
<script src="/lib_ams/ui_base_a_FWBH.js"></script>
<script src="/lib_ams/ui_ddd_dialog_table.js"></script> <!--  Нужно почистить от шлака, в этом файле содержитс многго мусора-->
<script src="/lib_ams/ui_base_form_constructor.js"></script>
<script src="/lib_ams/ui_base_table_constructor.js"></script>
<script src="/lib_ams/ui_base_bulk_constructor.js"></script>
<script src="/lib_ams/UI_S4_chart_constructor.js"></script>
<script src="/lib_ams/UI_S4_dialogs.js"></script>

 
 
 
	
<script src="/lib/bootstrap.min.js"></script>
<script src="/lib/bootstrap-dialog.min.js"></script>			<!--		<link type="text/css" rel="stylesheet" href="/themes/dark-hive/bootstrap-dialog.min.css" />-->
<script src="/lib/dataTables.min.js"></script> 				<!--	<link type="text/css" rel="stylesheet" href="/themes/dark-hive/dataTables.css"/>		-->
<script src="/lib/dataTables.colReorder.min.js" ></script>
<script src="/lib/dataTables.select.min.js" ></script>
<script src="/lib/dataTables.buttons.min.js" ></script>
<!--
--><script src="/lib/dataTables.cellEdit.js" ></script>
<script src="/lib/buttons.colVis.min.js" ></script>	<!--		<link type="text/css" rel="stylesheet" href="/themes/dark-hive/buttons.dataTables.min.css"/>		-->
<script src="/lib/buttons.flash.min.js" ></script>
<script src="/lib/buttons.html5.min.js" ></script>
<script src="/lib/buttons.print.min.js" ></script>



<script src="/lib/dataTables.csv2table-0.02-b-4.8.js" ></script>
 
<script src="/lib/dataTables.responsive.min.js" ></script>
<!--script src="/lib/dataTables.altEditor.free.js" ></script-->
 
	
	 
</head> 
 
 
 
 
 
<body hidden>



<span hidden id="S4_session_iv" value='%*S4_session_iv_value_*%'></span>
<span hidden id="S4_session_token" value='%*S4_session_token_value_*%'></span>
<span hidden id="S4_session_AES_key" value='%*S4_session_AES_key_value_*%'></span>
<span hidden id="S4_api_port" value='%*S4_api_port_value_*%'></span>
<span hidden id="S4_api_wss_ws" value='%*S4_api_wss_ws_value_*%'></span>

	
	
	
	
	
<!-- micro FWBH -->

<!--
<style> 
	.canvasjs-chart-container {			 background-color:  rgba(255, 255, 0, 1.5);  					}
	.canvasjs-chart-canvas {	 			}
	.canvasjs-chart-toolbar {			 background-color:  rgba(255, 255, 0, 1.5);  					}
	.canvasjs-chart-tooltip {			 background-color:  rgba(255, 255, 0, 1.5);  					}
	.visualizer {			 background-color:  rgba(255, 255, 0, 1.5);  					}
</style>            
-->



 
  
<script>
  $( function() 
  {  
      $( "#tabs" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );
      //$( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );	
      $( "#tabs" ).tabs().css( "width", "auto" );	
  } );
</script>  



 
		
<!--
<div id="tabs"  >
<ul>
	 <li id="tabsLogo"  > <img src="/images/testLogo.png" class="menu-logo-image        "> </img></li>
	%*menu*%
</ul>
%*tabcontent*%
</div>
-->	
%*tabmenucontent*%
	
	
<div id="connection" data-hint="Connection status"><div></div></div>


<script src="/micro_FWBH.js"></script>


<!-------[ Restore last opened tab --------------------->
<script>
	var lastActive = localStorage.getItem("lastActive") ;// || 0
	if( !lastActive ) lastActive = 0;
	$(function() {		$( "#tabs" ).tabs({ active: lastActive, activate: on_tab_select });		});
	on_tab_select = function( event, ui ) {		var currentActive = $( "#tabs" ).tabs( "option", "active" );  localStorage.setItem("lastActive", currentActive);		};
</script>

 <!--  AMS
 <script>
        $(document).on("__on_api_connected", function () {
            var lastActive = localStorage.getItem("lastActive") || "home";

            var tab = $('[data-menu-tab="main"][data-tab-name="' + lastActive + '"]');

            if (tab.length == 0)
                $('[data-menu-tab="main"][data-tab-name="home"]').trigger('activated')
            else tab.trigger('activated');

            $('[data-menu-tab="main"]').on('activated', function () {
                localStorage.setItem("lastActive", $(this).attr('data-tab-name'));
            })
        });
    </script>
-->




<!-----[ load/save component states ]----------------------------------->
<script>       	
        // Save checkbox staates:
        function cb_save(id_f)
			{
                if(id_f)       localStorage.setItem(id_f, document.getElementById(id_f).checked);
				checkboxes = document.querySelectorAll('input[type=checkbox]');
				for (i = 0; i < checkboxes.length; i++)
					{
						localStorage.setItem(checkboxes[i].id, checkboxes[i].checked);
						window[checkboxes[i].id] = checkboxes[i].checked;
					}				
			}
			
        // Load saved checkbox states:
        function load_component_states_Function()
		{
       // unused();
            checkboxes = document.querySelectorAll('input[type=checkbox]');
			for (var i = 0; i < checkboxes.length; i++)	
				{
					window[checkboxes[i].id] = checkboxes[i].checked = (localStorage.getItem(checkboxes[i].id) === 'true');
				}
        }
		var checkboxes = [];	
        $(document).ready(load_component_states_Function);		
</script>

		
		<!-------------------------[ Some common functions used in modules ]------------------------------------------>
		
<script>
							function convertArrayOfObjectsToCSV(args) 
								{  
									var result, ctr, keys, columnDelimiter, lineDelimiter, data;
									function mkArray(data)
									{										
										if (data == null || !data.length) {		return null;	}									
										columnDelimiter = args.columnDelimiter || ',';
										lineDelimiter = args.lineDelimiter || '\n';
										keys = Object.keys(data[0]);
										result = '' + keys.join(columnDelimiter);
										result += lineDelimiter;
										data.forEach(function(item) 
										{
											ctr = 0;	keys.forEach(function(key) {	if (ctr > 0) result += columnDelimiter;	result += item[key];		ctr++;		});
											result += lineDelimiter;
										});
									}
									
									for(var i in args.data )	mkArray( args.data[i] );

									return result;
								}
								
							function downloadCSV(data, args) 
								{  
									var data, filename, link;
									var csv = convertArrayOfObjectsToCSV({		data: data			});
									if (csv == null) return;
									filename = args.filename || 'export.csv';
									if (!csv.match(/^data:text\/csv/i)) {		csv = 'data:text/csv;charset=utf-8,' + csv;		}
									data = encodeURI(csv);
									link = document.createElement('a');
									link.setAttribute('href', data);
									link.setAttribute('download', filename);
									link.click();
								}
								
								

						function objectRenameKey (object, key, newKey)
							{
							
							console.log( object);
								//	const clonedObj = clone(object);
								//	const targetKey = clonedObj[key];
								//	delete clonedObj[key];
							//		clonedObj[newKey] = targetKey;
							//	return clonedObj;
							}
 					
					
					
					
					//uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu  Testing OFFLINE service worker. It's not so useful...
					

					/*
										// register the service worker if available
					if ('serviceWorker' in navigator) {
						navigator.serviceWorker.register('./sw.js').then(function(reg) {
							console.log('Successfully registered service worker', reg);
						}).catch(function(err) {
							console.warn('Error whilst registering service worker', err);
						});
					}

					window.addEventListener('online', function(e) {
						// re-sync data with server
						console.log("You are online");
					   // Page.hideOfflineWarning();
					   // Arrivals.loadData();
					}, false);

					window.addEventListener('offline', function(e) {
						// queue up events for server
						console.log("You are offline");
					   // Page.showOfflineWarning();
					}, false);

					// check if the user is connected
					//if (navigator.onLine)     Arrivals.loadData();
					//else  							   Page.showOfflineWarning();    // show offline message

										
						*/				
					
</script>		
			
		
		
		
		

		<div id="common-preloader" class="preloader">		<!--	-->		
		
		
        <svg xmlns="http://www.w3.org/2000/svg" class="indicator wait" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 100 100">
            <circle class="wait-circle" cx="50" cy="50" fill="none" r="49" stroke="#6bbbff" stroke-width="2" transform="rotate(48 50 50)">
                <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;180 50 50;720 50 50" keyTimes="0;0.5;1" dur="2s" begin="0s" repeatCount="indefinite"></animateTransform>
                <animate attributeName="stroke-dasharray" calcMode="linear" values="0 314.49555921538757;314.4955592153876 -2.842170943040401e-14;0 314.49555921538757" keyTimes="0;0.5;1" dur="2" begin="0s" repeatCount="indefinite"></animate>
            </circle>
        </svg>
        <svg version="1.1" class="indicator check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" viewPort="100px 100px">
            <circle class="check-circle" fill="none" stroke="#73AF55" stroke-miterlimit="10" cx="50" cy="50" r="48">
                
            </circle>
            <polyline class="check-check" fill="none" stroke="#73AF55" stroke-dashoffset="0" stroke-dasharray="76" stroke-width="4" stroke-miterlimit="10" points="27.8,51.5 45.5,67.8 80.2,30.2"> 
            </polyline>
        </svg>
        <svg version="1.1" class="indicator fail" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <circle class="fail-circle" fill="none" stroke="#D06079" stroke-miterlimit="10" cx="50" cy="50" r="48" />
            <line class="fail-l-line" fill="none" stroke="#D06079" stroke-miterlimit="10" x1="25" y1="25" x2="75" y2="75" />
            <line class="fail-r-line" fill="none" stroke="#D06079" stroke-miterlimit="10" x1="75" y1="25" x2="25" y2="75" />
        </svg>
    </div>
	

	<script src="/lib_ams/ui-preloader.js"></script> 
			

		
		
<!-- ====[ Loading indicator ]======================== -->
<!--
<style>
#apiProgress {
  width: 100%;
  background-color: #ddd;  
}

#apiBar {
  width: 1%;
  height: 30px;
  background-color: #4DBF10;
   z-index: 100;
}
</style>


 <div id="apiBar"></div>	

<style>
	body {    overflow:hidden;		}
	#loading {   width: 100%;   height: 100%;   top: 0;   left: 0;   position: fixed;   display: block;   background-color: #ababab;   z-index: 99;	}
</style>
 -->
<script>
    $(document).on('__on_api_connected', function (o, data) {   $('#loading').hide();		 });
</script>  

<div  hidden id="apiProgress"></div> 

		
		
		
 <script>
        var getSelectedRow = function (id) { return $('#' + id).DataTable().rows('.selected').data()[0] };
</script>
		
		
		
</body>
	
</html>


<!--

<script src="lib/html_js_tools/html-inspector.js"></script>
<script>
iHTMLInspector.inspect(["unused-classes"]);
</script>		

-->